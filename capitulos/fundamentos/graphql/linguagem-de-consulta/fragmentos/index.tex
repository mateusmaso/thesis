\subsubsection[Fragmentos]{Fragmentos}

Fragments are the primary unit of composition in GraphQL. Fragments allow for the reuse of common repeated selections of fields, reducing duplicated text in the document. Inline Fragments can be used directly within a selection to condition upon a type condition when querying against an interface or union.

Fragments must specify the type they apply to. In this example, friendFields can be used in the context of querying a User. Fragments cannot be specified on any input value (scalar, enumeration, or input object).Fragments can be specified on object types, interfaces, and unions.

Fragments can be defined inline within a selection set. This is done to conditionally include fields based on their runtime type. This feature of standard fragment inclusion was demonstrated in the query FragmentTyping example. We could accomplish the same thing using inline fragments.

\begin{figure}[H]
  \centering
  \begin{minted}[frame=single,framesep=10pt]{javascript}
    {
      pessoa(id: 4) {
        ...identidade
        ... on User {
          friends {
            name
          }
        }
      }
    }

    fragment identidade on Pessoa {
      id
      name
    }
  \end{minted}
  \caption{Fragmentos}
\end{figure}
